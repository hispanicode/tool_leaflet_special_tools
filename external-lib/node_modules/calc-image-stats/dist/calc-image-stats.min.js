var d=Object.defineProperty;var f=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var p=(e,o,c)=>o in e?d(e,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[o]=c,w=(e,o)=>{for(var c in o||(o={}))b.call(o,c)&&p(e,c,o[c]);if(f)for(var c of f(o))g.call(o,c)&&p(e,c,o[c]);return e};var m=(e,o)=>d(e,"name",{value:o,configurable:!0});var S=(e,o)=>{var c={};for(var n in e)b.call(e,n)&&o.indexOf(n)<0&&(c[n]=e[n]);if(e!=null&&f)for(var n of f(e))o.indexOf(n)<0&&g.call(e,n)&&(c[n]=e[n]);return c};const calcStats=require("calc-stats"),guessImageLayout=require("guess-image-layout"),xdim=require("xdim"),range=m(e=>new Array(e).fill(0).map((o,c)=>c),"range");function calcImageStats(e,k={}){var i=k,{bands:o,height:c,precise:n=!1,stats:j,width:r,layout:t}=i,q=S(i,["bands","height","precise","stats","width","layout"]);if(typeof e.then=="function")throw new Error("[calc-image-stats] you passed in a promise as the data values.  please resolve the promise first before calling calcImageStats");const s=guessImageLayout({bands:o,data:e,height:c,layout:t,width:r});o!=null||(o=s.bands),c!=null||(c=s.height),t!=null||(t=s.layout),r!=null||(r=s.width);const I=range(o).map(l=>{let a;const u=w({precise:n,stats:j},q);if(["[band][row,column]","[band][column,row]"].includes(t))a=e[l];else if(["[band][row][column]","[band][column][row]"].includes(t))a=e[l],u.chunked=!0;else if(o===1&&["[band,row,column]","[row,column,band]","[column,band,row]","[column,row,band]"].includes(t))a=e;else{const x={band:[l,l]},R={band:o,column:r,row:c};a=xdim.iterClip({data:e,layout:t,rect:x,sizes:R})}return calcStats(a,u)});return{depth:o,height:c,width:r,bands:I}}m(calcImageStats,"calcImageStats"),typeof define=="function"&&define.amd&&define(function(){return calcImageStats}),typeof module=="object"&&(module.exports=calcImageStats,module.exports.default=calcImageStats,module.exports.calcImageStats=calcImageStats),typeof self=="object"&&(self.calcImageStats=calcImageStats),typeof window=="object"&&(self.calcImageStats=calcImageStats);
//# sourceMappingURL=calc-image-stats.min.js.map
