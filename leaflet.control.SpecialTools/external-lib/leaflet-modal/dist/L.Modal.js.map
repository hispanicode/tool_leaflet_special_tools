{"version":3,"file":"L.Modal.js","sources":["../src/modal.js"],"sourcesContent":["import L from 'leaflet';\n\n/**\n * Modal handler\n * @class   {L.Map.Modal}\n * @extends {L.Mixin.Events}\n * @extends {L.Handler}\n */\nL.Map.Modal = L.Handler.extend( /** @lends {L.Map.Hadler.prototype} */ {\n\n  includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\n\n  /**\n   * @static\n   * @type {Object}\n   */\n  statics: {\n    BASE_CLS: 'leaflet-modal',\n    HIDE: 'modal.hide',\n    SHOW_START: 'modal.showStart',\n    SHOW: 'modal.show',\n    CHANGED: 'modal.changed',\n    /**\n     * \"foo bar baz\" -> \".foo.bar.baz\"\n     * @param  {String} classString\n     * @return {String}\n     */\n    classNameToSelector: (classString) => {\n      return (' ' + classString).split(' ').join('.').replace(/^\\s+|\\s+$/g, '');\n    }\n  },\n\n  /**\n   * @type {Object}\n   */\n  options: {\n    OVERLAY_CLS: 'overlay',\n    MODAL_CLS: 'modal',\n    MODAL_CONTENT_CLS: 'modal-content',\n    INNER_CONTENT_CLS: 'modal-inner',\n    SHOW_CLS: 'show',\n    CLOSE_CLS: 'close',\n\n    closeTitle: 'close',\n    zIndex: 10000,\n    transitionDuration: 300,\n\n    wrapperTemplate: [\n      '<div class=\"{OVERLAY_CLS}\"></div>',\n      '<div class=\"{MODAL_CLS}\"><div class=\"{MODAL_CONTENT_CLS}\">',\n      '<span class=\"{CLOSE_CLS}\" title=\"{closeTitle}\">&times;</span>',\n      '<div class=\"{INNER_CONTENT_CLS}\">{_content}</div>',\n      '</div></div>'\n    ].join(''),\n\n    template: '{content}',\n    content: ''\n\n  },\n\n  /**\n   * @constructor\n   * @param  {L.Map}   map\n   * @param  {Object=} options\n   */\n  initialize: function(map, options) {\n    L.Handler.prototype.initialize.call(this, map);\n    L.Util.setOptions(this, options);\n\n    this._visible = false;\n\n    const container = this._container =\n      L.DomUtil.create('div', L.Map.Modal.BASE_CLS, map._container);\n    container.style.zIndex = this.options.zIndex;\n    container.style.position = 'absolute';\n    this._map._controlContainer.appendChild(container);\n\n    L.DomEvent\n      .disableClickPropagation(container)\n      .disableScrollPropagation(container);\n    L.DomEvent.on(container, 'contextmenu', L.DomEvent.stopPropagation);\n\n    this.enable();\n  },\n\n  /**\n   * Add events and keyboard handlers\n   */\n  addHooks: function() {\n    L.DomEvent.on(document, 'keydown', this._onKeyDown, this);\n    this._map.on({ modal: this._show }, this);\n  },\n\n  /**\n   * Disable handlers\n   */\n  removeHooks: function() {\n    L.DomEvent.off(document, 'keydown', this._onKeyDown, this);\n    this._map.off({ modal: this._show }, this);\n  },\n\n  /**\n   * @return {L.Map.Modal}\n   */\n  hide: function() {\n    this._hide();\n    return this;\n  },\n\n  /**\n   * @return {Boolean}\n   */\n  isVisible: function() {\n    return this._visible;\n  },\n\n  /**\n   * Show again, or just resize and re-position\n   * @param  {Object=} options\n   */\n  update: function(options) {\n    if (options) this._show(options);\n    else         this._updatePosition();\n  },\n\n  /**\n   * @param {String} content\n   */\n  setContent: function(content) {\n    this._getInnerContentContainer().innerHTML = content;\n    this.update();\n  },\n\n  /**\n   * Update container position\n   */\n  _updatePosition: function() {\n    const content = this._getContentContainer();\n    const { y } = this._map.getSize();\n    const { offsetHeight } = content;\n\n    if (offsetHeight < y) {\n      content.style.marginTop = ((y - offsetHeight) / 2) + 'px';\n    } else {\n      content.style.marginTop = '';\n    }\n  },\n\n  /**\n   * @param  {Object} options\n   */\n  _show: function(options) {\n    if (this._visible) this._hide();\n    options = L.Util.extend({}, this.options, options);\n\n    this._render(options);\n    this._setContainerSize(options);\n\n    this._updatePosition();\n\n    L.Util.requestAnimFrame(() => {\n      const contentContainer = this._getContentContainer();\n      L.DomEvent.on(contentContainer, 'transitionend', this._onTransitionEnd, this);\n      L.DomEvent.disableClickPropagation(contentContainer);\n      L.DomUtil.addClass(this._container, this.options.SHOW_CLS);\n\n      if (!L.Browser.any3d) {\n        L.Util.requestAnimFrame(this._onTransitionEnd, this);\n      }\n    });\n\n    const container = this._container;\n\n    const closeBtn = container.querySelector('.' + this.options.CLOSE_CLS);\n    if (closeBtn) {\n      L.DomEvent.on(closeBtn, 'click', this._onCloseClick, this);\n    }\n\n    const modal = container.querySelector('.' + this.options.MODAL_CLS);\n    if (modal) {\n      L.DomEvent.on(modal, 'mousedown', this._onMouseDown, this);\n    }\n\n    // callbacks\n    if (typeof options.onShow === 'function') {\n      this._map.once(L.Map.Modal.SHOW, options.onShow);\n    }\n\n    if (typeof options.onHide === 'function') {\n      this._map.once(L.Map.Modal.HIDE, options.onHide);\n    }\n\n    // fire event\n    this._map.fire(L.Map.Modal.SHOW_START, { modal: this });\n  },\n\n  /**\n   * Show transition ended\n   * @param  {TransitionEvent=} e\n   */\n  _onTransitionEnd: function(e) {\n    const data = { modal: this };\n    const map = this._map;\n    if (!this._visible) {\n      if (L.DomUtil.hasClass(this._container, this.options.SHOW_CLS)) {\n        this._visible = true;\n        map.fire(L.Map.Modal.SHOW, data);\n      } else {\n        map.fire(L.Map.Modal.HIDE, data);\n      }\n    } else {\n      map.fire(L.Map.Modal.CHANGED, data);\n    }\n  },\n\n  /**\n   * @param  {L.MouseEvent} evt\n   */\n  _onCloseClick: function(evt) {\n    L.DomEvent.stop(evt);\n    this._hide();\n  },\n\n  /**\n   * Render template\n   * @param  {Object} options\n   */\n  _render: function(options) {\n    this._container.innerHTML = L.Util.template(\n      options.wrapperTemplate,\n      L.Util.extend({}, options, {\n        _content: L.Util.template(options.template, options)\n      })\n    );\n    if (options.element) {\n      const contentContainer = this._container.querySelector(\n        L.Map.Modal.classNameToSelector(this.options.MODAL_CONTENT_CLS));\n      if (contentContainer) {\n        contentContainer.appendChild(options.element);\n      }\n    }\n  },\n\n  /**\n   * @return {Element}\n   */\n  _getContentContainer: function() {\n    return this._container.querySelector(\n      L.Map.Modal.classNameToSelector(this.options.MODAL_CONTENT_CLS));\n  },\n\n  /**\n   * Inner content, don't touch destroy button\n   * @return {Element}\n   */\n  _getInnerContentContainer: function() {\n    return this._container.querySelector(\n      L.Map.Modal.classNameToSelector(this.options.INNER_CONTENT_CLS))\n  },\n\n  /**\n   * @param {Object} options\n   * @param {Number} options.width\n   * @param {Number} options.height\n   */\n  _setContainerSize: function(options) {\n    const content = this._getContentContainer();\n\n    if (options.width) {\n      content.style.width = options.width + 'px';\n    }\n\n    if (options.height) {\n      content.style.height = options.height + 'px';\n    }\n  },\n\n  /**\n   * Hide blocks immediately\n   */\n  _hideInternal: function() {\n    this._visible = false;\n    L.DomUtil.removeClass(this._container, this.options.SHOW_CLS);\n  },\n\n  /**\n   * Hide modal\n   */\n  _hide: function() {\n    if (this._visible) {\n      this._hideInternal();\n      L.Util.requestAnimFrame(this._onTransitionEnd, this);\n    }\n  },\n\n  /**\n   * Mouse down on overlay\n   * @param  {L.MouseEvent} evt\n   */\n  _onMouseDown: function(evt) {\n    L.DomEvent.stop(evt);\n    const target = (evt.target || evt.srcElement);\n    if (L.DomUtil.hasClass(target, this.options.MODAL_CLS)) this._hide();\n  },\n\n  /**\n   * Key stroke(escape)\n   * @param  {KeyboardEvent} evt\n   */\n  _onKeyDown: function(evt) {\n    const key = evt.keyCode || evt.which;\n    if (key === 27) this._hide();\n  }\n\n});\n\n// register hook\nL.Map.addInitHook('addHandler', 'modal', L.Map.Modal);\n\nL.Map.include( /** @lends {L.Map.prototype} */ {\n\n  /**\n   * @param  {Object} options\n   * @return {L.Map}\n   */\n  openModal: function(options) {\n    return this.fire('modal', options);\n  },\n\n  /**\n   * @return {L.Map}\n   */\n  closeModal: function() {\n    this.modal.hide();\n    return this;\n  }\n});\n\nexport default L.Map.Modal;\n"],"names":["const","this"],"mappings":"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"}